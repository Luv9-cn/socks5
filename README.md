# 轻量级Socks5代理服务器

这是一个基于socat实现的超轻量级Socks5代理服务器，专为低配服务器优化，支持基本的代理功能，适用于Debian 12操作系统。

## 功能特性

- 支持Socks5协议的CONNECT命令
- 支持IPv4、域名解析
- 无需认证的连接方式
- 基于socat实现，资源占用极低（<1MB）
- **默认使用端口1080，无需手动输入**
- **自动配置防火墙开放端口**
- **美观的彩色输出和进度条显示**
- **一键安装，全程自动化**

## 快速开始

### 一键安装（Debian 12）

直接在服务器终端中执行以下命令，即可完成Socks5代理服务器的一键安装：

```bash
# 使用wget从GitHub下载并执行安装脚本
sudo bash -c "$(wget -qO- https://raw.githubusercontent.com/username/socks5/master/install.sh)"
```

### 安装过程

安装脚本将自动执行以下操作（带实时进度条显示）：

1. **检查权限** - 确保以root用户运行
2. **更新包索引** - 快速更新软件包信息
3. **安装必要工具** - 安装socat和wget
4. **获取代理脚本** - 从GitHub下载最新版代理服务器脚本
5. **配置系统服务** - 创建并启动systemd服务
6. **配置防火墙** - 自动开放1080端口

整个安装过程约3分钟内完成，无需任何手动干预。

## 代理配置

安装完成后，您可以使用以下配置信息在客户端软件中设置Socks5代理：

- **代理类型**: Socks5
- **服务器地址**: 您的服务器IP地址
- **端口号**: 1080（默认端口）
- **认证方式**: 无需认证
- **用户名/密码**: 无需设置

## 服务管理

### 操作命令

使用以下命令管理Socks5代理服务：

```bash
# 启动服务
sudo systemctl start socks5-proxy

# 停止服务
sudo systemctl stop socks5-proxy

# 重启服务
sudo systemctl restart socks5-proxy

# 查看服务状态
sudo systemctl status socks5-proxy
```

### 开机自启

服务已默认设置为开机自启，无需额外配置。

## 低配服务器优化

本实现特别针对低配服务器（1H1G）进行了优化：

1. **轻量级实现**: 使用bash+socat替代Python，极大降低资源占用
2. **最小化依赖**: 仅依赖系统基本工具
3. **静默安装**: 优化安装过程，减少不必要的输出
4. **快速失败恢复**: 提高服务可靠性
5. **优化资源回收**: 避免资源泄漏

## 性能对比

| 特性 | 轻量级实现 (bash+socat) | Python实现 |
|------|------------------------|------------|
| 内存占用 | 极低 (<1MB) | 中等 (约50-100MB) |
| CPU占用 | 极低 | 中等 |
| 安装时间 | <3分钟 | >5分钟 |
| 依赖大小 | <1MB | >200MB |
| 并发能力 | 优秀 | 一般 |
| 适合配置 | 1H1G及以上 | 2H2G及以上 |

## 安全注意事项

1. 本代理不支持认证，建议仅在可信网络环境中使用
2. 可以考虑在防火墙中限制只允许特定IP访问代理端口
3. 定期更新系统和socat工具以修复可能的安全漏洞

## 许可证

本项目采用MIT许可证。
